<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Prompt in the interactive shell</title>
<link rel="stylesheet" type="text/css" href="style.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="Prompt" target="_self"></a>Prompt in the interactive shell</h2></div></div>
<hr>
</div>
<p>
	Like many other shells, XSH2 provides means for customizing
	the format of its interactive shell prompt.  The prompt is
	displayed according to the content of the variable
	<code class="literal">$PROMPT</code> on which the following
	substitutions and interpolations are performed
	(in this order):
      </p>
<p>1. Prompt-string replacements</p>
<pre class="programlisting">
%% - percent sign
%p - XPath location of the current node
%P - like %p but without an initial document variable
%l - XPath location of the current node with ID-shortcuts
%L - like %l but without an initial document variable
%n - name of the current node
%N - local name of the current node
%c - canonical XPath name of the current node
%y - type of the current node (element,attribute,...)
%i - ID of the current node
%d - current document variable
%h - the hostname up to the first '.'
%H - the hostname
%s - XSH shell name (basename of $0)
%t - the current time in 24-hour HH:MM:SS format
%T - the current time in 12-hour HH:MM:SS format
%@ - the current time in 12-hour am/pm format
%A - the current time in 24-hour HH:MM format
%u - the username of the current user
%v - the version of XSH2 (e.g., 2.1.0)
%V - the revision number of XML::XSH2::Functions (e.g. 2.40)
%w - current working directory (on the local filesystem)
%W - basename of %w
</pre>
<p>2. Variable, XPath and Perl interpolations</p>
<p>
Substrings of the forms <code class="literal">${variable}</code>,
<code class="literal">${{...perl...}}</code> and
<code class="literal">${(...xpath...)}</code> are interpolated as in XSH2
<a class="ulink" href="s_exp.html" target="_self">expressions</a>.
</p>
<p>3. Special character substitution</p>
<pre class="programlisting">
\n - newline character
\r - line-feed character
\t - tab character
\a - bell character
\b - backspace character
\f - form feed character
\e - escape character (\033)
\\ - backslash character
\nnn - the character corresponding to the octal number nnn
(useful for non-printable terminal control characters)
</pre>
<p>The default value of <code class="literal">$PROMPT</code> is <code class="literal">"%p&gt;"</code>.</p>
<p>Note that you must escape <code class="literal">${...}</code>
	interpolators like <code class="literal">\${...}</code> if you
	want them to be evaluated at each prompt
	rather than at the time of the assignment to <code class="literal">$PROMPT</code>.
	For example:
      </p>
<div class="example">
<a name="gen-000" target="_self"></a><p class="title"><b>Example&nbsp;1.&nbsp;Let `uname` be computed once, `date` at every prompt</b></p>
<div class="example-contents"><pre class="programlisting">$PROMPT="[${{ chomp($u=`uname`);$u }} \${{ chomp($d=`date`);$d }}] %p&gt;"</pre></div>
</div>
<br class="example-break">
</div></body>
</html>
