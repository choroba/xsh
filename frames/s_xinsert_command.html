<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>xinsert command</title>
<link rel="stylesheet" type="text/css" href="style.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="xinsert_command" target="_self"></a>xinsert command</h2></div></div>
<hr>
</div>
<div class="simplesect">
<div class="titlepage"><div><div><h3 class="title">
<a name="gen-000" target="_self"></a>Usage</h3></div></div></div>
<p><code class="literal">xinsert [--namespace <a class="ulink" href="s_exp.html" target="_self">expression</a>] <a class="ulink" href="s_nodetype.html" target="_self">node-type</a> <a class="ulink" href="s_exp.html" target="_self">expression</a> <a class="ulink" href="s_loc.html" target="_self">location</a> <a class="ulink" href="s_xpath.html" target="_self">xpath</a></code></p>
</div>
<div class="simplesect">
<div class="titlepage"><div><div><h3 class="title">
<a name="gen-001" target="_self"></a>Aliases</h3></div></div></div>
<p><code class="literal"> xadd</code></p>
</div>
<div class="simplesect">
<div class="titlepage"><div><div><h3 class="title">
<a name="gen-002" target="_self"></a>Description</h3></div></div></div>
<p>
	    Create new nodes of the 
	    <a class="ulink" href="s_nodetype.html" target="_self">node-type</a> given in the 1st argument
	    of name specified in the 2nd argument and insert them 
	    to <a class="ulink" href="s_loc.html" target="_self">location</a>s  relative to nodes
	    in the node-list specified in the 4th argument.
	  </p>
<p>
	    For element nodes, the the 2nd argument <a class="ulink" href="s_exp.html" target="_self">expression</a> 
	    should evaluate to something like
	      "&lt;element-name att-name='attvalue' ...&gt;".  The
	      <code class="literal">&lt;</code> and <code class="literal">&gt;</code>
	      characters are optional. If no attributes are used, the
	      expression may simply consist the element name. Note,
	      that in the first case, the quotes are required since
	      the expression contains spaces.
	  </p>
<p>
	    Attribute nodes use the following syntax:
	    "att-name='attvalue' [...]".
	  </p>
<p>
	    For the other types of nodes (text, cdata, comments) the
	    expression should contain the node's literal content. Again,
	    it is necessary to quote all whitespace and special
	    characters as in any expression argument.
	  </p>
<p>
	    The <a class="ulink" href="s_loc.html" target="_self">location</a> argument should be one of:
	    <code class="literal">after</code>, <code class="literal">before</code>,
	    <code class="literal">into</code>,
	    <code class="literal">replace</code>, <code class="literal">append</code>
	    or <code class="literal">prepend</code>. See documentation
	    of the <a class="ulink" href="s_loc.html" target="_self">location</a> argument type for more detail.
	  </p>
<p>
	    Optionally, for element and attribute nodes,
	    a namespace may be specified with <code class="literal">--namespace</code>
	    or <code class="literal">:n</code>. If used, 
	    the expression should evaluate to the desired namespace
	    URI and the name of the element or attribute being inserted 
	    <span class="emphasis"><em>must have a prefix</em></span>.
	  </p>
<p>
	    The command returns a node-list consisting of nodes it created.
	  </p>
<p>
	    Note, that instead of <code class="literal">xinsert</code>, you can alternatively use 
	    one of <a class="ulink" href="s_new_attribute_function.html" target="_self">xsh:new-attribute</a>,
	    <a class="ulink" href="s_new_cdata_function.html" target="_self">xsh:new-cdata</a>,
	    <a class="ulink" href="s_new_chunk_function.html" target="_self">xsh:new-chunk</a>,
	    <a class="ulink" href="s_new_comment_function.html" target="_self">xsh:new-comment</a>,
	    <a class="ulink" href="s_new_element_function.html" target="_self">xsh:new-element</a>,
	    <a class="ulink" href="s_new_element_ns_function.html" target="_self">xsh:new-element-ns</a>,
	    <a class="ulink" href="s_new_pi_function.html" target="_self">xsh:new-pi</a>, and
	    <a class="ulink" href="s_new_text_function.html" target="_self">xsh:new-text</a>
	    together with the command <a class="ulink" href="s_xcopy_command.html" target="_self">xcopy</a>.
	  </p>
<div class="example">
<a name="gen-003" target="_self"></a><p class="title"><b>Example&nbsp;1.&nbsp;Give each chapter a provisional title element.</b></p>
<div class="example-contents"><pre class="programlisting">xsh&gt; <strong class="userinput"><code>my $new_titles := xinsert element "&lt;title font-size=large underline=yes&gt;" \
  into /book/chapter</code></strong>
xsh&gt; <strong class="userinput"><code>xinsert text "Change me!" into $new_titles;</code></strong></pre></div>
</div>
<br class="example-break"><div class="example">
<a name="gen-004" target="_self"></a><p class="title"><b>Example&nbsp;2.&nbsp;Same as above, using xcopy and xsh:new-... instead of xinsert</b></p>
<div class="example-contents"><pre class="programlisting">xsh&gt; <strong class="userinput"><code>my $new_titles := xcopy xsh:new-element("title","font-size","large","underline","yes") \
  into /book/chapter</code></strong>
xsh&gt; <strong class="userinput"><code>xcopy xsh:new-text("Change me!") into $new_titles;</code></strong></pre></div>
</div>
<br class="example-break">
</div>
<div class="simplesect">
<div class="titlepage"><div><div><h3 class="title">
<a name="gen-005" target="_self"></a>See Also</h3></div></div></div>
<p><a class="ulink" href="s_insert_command.html" target="_self">insert</a>, <a class="ulink" href="s_move_command.html" target="_self">move</a>, <a class="ulink" href="s_xmove_command.html" target="_self">xmove</a></p>
</div>
<div class="simplesect">
<div class="titlepage"><div><div><h3 class="title">
<a name="gen-006" target="_self"></a>Sections</h3></div></div></div>
<p><a class="ulink" href="s_Manipulation.html" target="_self">Tree modification</a></p>
</div>
</div></body>
</html>
